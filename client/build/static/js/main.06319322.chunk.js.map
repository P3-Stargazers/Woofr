{"version":3,"sources":["components/NavBar.js","components/GlobalStore.js","components/ProductCard.js","components/API.js","components/ProductListPage.js","components/RatingBar.js","components/ProductReviewForm.js","components/ProductReviews.js","components/ProductInfoPage.js","components/SettingsPage.js","components/ProductAddPage.js","components/ProductCartRow.js","components/CartPage.js","components/RegisterPage.js","components/LoginPage.js","components/LogoutPage.js","components/Footer.js","App.js","index.js"],"names":["showTimeout","GlobalData","React","createContext","dispatcher","state","action","type","newState","cartItemIdx","cart","findIndex","item","id","console","log","num","push","GlobalStore","props","useReducer","globalData","dispatch","Provider","value","useGlobalStore","useContext","NavBar","useState","showMenu","setShowMenu","localStorage","session","location","useLocation","clearTimeout","setTimeout","invalidSession","length","pathname","cartTotalQuantity","reduce","total","to","class","className","src","alt","style","width","height","onClick","data-toggle","data-target","aria-controls","aria-expanded","aria-label","ProductCard","key","heading","image","description","title","price","get","url","fetch","headers","then","result","json","post","userData","method","body","JSON","stringify","ProductListPage","products","setProducts","a","API","apiProducts","useEffect","loadProducts","map","product","RatingBar","starsHtml","starCnt","rating","dangerouslySetInnerHTML","__html","ProductReviewForm","for","placeholder","rows","saveForm","ProductReviews","showForm","setShowForm","e","preventDefault","reviews","review","name","ProductInfoPage","useParams","showProduct","setShowProduct","apiProduct","loadProduct","SettingsPage","ProductAddPage","ProductCartRow","CartPage","RegisterPage","email","password","setUserData","isRegistered","setIsRegistered","message","alertMessage","setAlertMessage","inputEmail","useRef","inputPassword","handleInputChange","target","current","focus","test","apiResult","error","role","onChange","ref","LoginPage","rememberMe","isLoggedIn","setIsLoggedIn","checked","href","LogoutPage","isLoggedOut","setIsLoggedOut","logoutRequest","Footer","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.06319322.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useGlobalStore } from \"./GlobalStore\";\nimport { Redirect } from 'react-router-dom';\n\nlet showTimeout;\n\n/* activePage  | changePage-call-back */\nfunction NavBar() {\n  const [showMenu, setShowMenu] = useState(false);\n  const [ session ] = useState( localStorage.session );\n  const [ globalData ] = useGlobalStore();\n\n  const location = useLocation();\n  const style = {\n      logo: { width: '64px', height: '64px' }\n  }\n\n  if( showMenu ){\n    // hide the nav after 10s\n    clearTimeout( showTimeout );\n    showTimeout = setTimeout( function(){ setShowMenu( false ); }, 5000 );\n  }\n\n  // force redirection if no session & yet not login/reg pages\n  const invalidSession = !(session && session.length===36) && !(location.pathname==='/login' || location.pathname==='/register');\n\n  const cartTotalQuantity = globalData.cart.reduce( (total,item) => total+item.num, 0 );\n\n  return ( \n    <>\n    { invalidSession ? <Redirect to='/login' /> : '' }\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <Link to=\"/\" className=\"navbar-brand\">\n          <img src='https://upload.wikimedia.org/wikipedia/commons/7/79/Mountain_icon_%28Noun_Project%29.svg' alt=\"\" style={style.logo} />\n      </Link>\n      {/* <a class=\"navbar-brand\" href=\"#\" onClick={ function(){ props.changePage('AboutPage')} }>Pupster</a> */}\n      <button onClick={() => setShowMenu(!showMenu)} class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <div className={`collapse navbar-collapse `+(showMenu ? 'show' : '')} id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav mr-auto\">\n          <li className=\"nav-item\">\n            <Link to=\"/productlist\" className={location.pathname === \"/productlist\" ? \"nav-link active\" : \"nav-link\"}>\n              Product List\n            </Link>\n          </li>          \n          <li className=\"nav-item\">\n            <Link to=\"/productadd\" className={location.pathname === \"/productadd\" ? \"nav-link active\" : \"nav-link\"}>\n              Product Add\n            </Link>\n          </li> \n          <li className=\"nav-item\">\n            <Link to=\"/settings\" className={location.pathname === \"/settings\" ? \"nav-link active\" : \"nav-link\"}>\n              Settings\n            </Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link to=\"/cart\" className={location.pathname === \"/cart\" ? \"nav-link active\" : \"nav-link\"}>\n              { cartTotalQuantity \n                ? <span class=\"badge badge-pill badge-success\"><i class=\"fas fa-shopping-cart\"></i> {cartTotalQuantity}</span>\n                : ''\n              }\n            </Link>\n          </li>          \n          { localStorage.session ? \n            <li className=\"nav-item\">\n              <Link to=\"/logout\" className=\"nav-link\">\n                Logout\n              </Link>\n            </li> \n            :\n            <li className=\"nav-item\">\n              <Link to=\"/login\" className=\"nav-link\">\n                Login\n              </Link>\n            </li>\n          }       \n        </ul>\n      </div>\n    </nav>\n    </>\n  );\n}\n\nexport default NavBar;","import React, { useContext, useReducer } from \"react\";\n\n/*\n{\n    cart: [ { id, num, price }]\n}\n\n\n*/\nconst GlobalData = React.createContext();\n\nfunction dispatcher(state,action){\nswitch( action.type ){\n    /* { type: \"addToCart\", id: [product-id], num: [# product], price} */\n    case 'addToCart':\n        let newState = {...state};\n        // check if item already exists in the cart\n        const cartItemIdx = newState.cart.findIndex( item=>item.id==action.id );\n        if( cartItemIdx>-1 ){\n            console.log( `[dispatcher:${action.type}] cart.num(${newState.cart[cartItemIdx].num}) += (${action.num})` );\n            newState.cart[cartItemIdx].num += action.num;\n        } else {\n            newState.cart.push( { ...action } );\n        }\n        console.log( `[GlobalStore:addToCart] id(${action.id}) cartItemIdx(${cartItemIdx})`, newState );\n        return newState;\n\n    default:\n    console.log( `crap sorry, dunno what to do` );\n    break;\n}\n}\n\nfunction GlobalStore( props ){\n    const [ globalData, dispatch ]= useReducer( dispatcher, { cart: [] } );\n    \n    return (\n        <GlobalData.Provider value={[ globalData, dispatch ]} {...props} />\n    )\n}\n\nfunction useGlobalStore(){\n    return useContext(GlobalData);\n}\n\nexport { GlobalStore, useGlobalStore };","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction ProductCard( props ){\n    return (\n        <div key={props.heading} className=\"card mx-auto col-4\">\n            <Link to={'/productinfo/'+props.id}>\n            <img className=\"card-img-top\" src={props.image} alt={props.description} title={props.description} />\n            <div className=\"card-body\">\n                <h4 className=\"card-title\">{props.heading}</h4>\n                <p className=\"card-text\">{props.price}</p>\n            </div>\n            </Link>\n        </div>\n    )\n}\n\nexport default ProductCard;","// simple wrapper around fetch to give session & do the JSON after \nfunction get( url ){\n    return fetch( url, \n        { headers: { 'Session': localStorage.session } })\n        .then( result=>result.json() );\n}\n\nfunction post( url, userData ){\n    return fetch( url, \n        {   method: 'post',\n            headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'Content-Type': 'application/json',\n                'Session': localStorage.session\n            },\n            body: JSON.stringify(userData)\n        }).then( result=>result.json());\n}\n\nexport default {\n    get,\n    post\n};","import React, { useState, useEffect } from \"react\";\nimport ProductCard from \"./ProductCard\";\nimport API from \"./API\";\n\nfunction ProductListPage( props ){\n    const [ products, setProducts ]= useState([]);\n\n    // load only ONCE at component load\n    useEffect( function(){\n        loadProducts();\n    }, [] );\n\n    async function loadProducts(){\n        const apiProducts = await API.get('/api/product/list');\n        setProducts( apiProducts );\n    }\n\n    return (\n        <div class=\"row\">\n        {products.map( product=><ProductCard {...product} />)}\n        </div>\n    )\n}\n\nexport default ProductListPage;\n","import React from \"react\";\n\nfunction RatingBar( props ){\n    let starsHtml = '';\n    for( let starCnt=1; starCnt<=5; starCnt++ ){\n        starsHtml += ( props.rating >= starCnt \n            ? '<i class=\"fas fa-star text-warning\"></i>'\n            : '<i class=\"far fa-star\"></i>' );\n    }\n    return (\n        <div dangerouslySetInnerHTML={{ __html: starsHtml }}></div>\n    )\n}\n\nexport default RatingBar;","import React from \"react\";\n\nfunction ProductReviewForm( props ){\n    return (\n        <form>\n            <div class=\"form-group\">\n                <label for=\"formName\">Email</label>\n                <input type=\"email\" class=\"form-control\" id=\"formName\" placeholder=\"name@example.com\" />\n            </div>\n            <div class=\"form-group\">\n                <label for=\"formRating\">Rating...</label>\n                <select class=\"form-control\" id=\"formRating\">\n                <option>1</option>\n                <option>2</option>\n                <option>3</option>\n                <option>4</option>\n                <option>5</option>\n                </select>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"formReview\">Your Review</label>\n                <textarea class=\"form-control\" id=\"formReview\" rows=\"3\"></textarea>\n            </div>\n            <button class='btn btn-lg btn-primary' onClick={props.saveForm}>Save Review</button>\n        </form>        \n        )\n}\n\nexport default ProductReviewForm;\n","import React, { useState } from \"react\";\nimport RatingBar from \"./RatingBar\"\nimport ProductReviewForm from \"./ProductReviewForm\";\n\nfunction ProductReviews( props ){\n    const [ showForm, setShowForm ]= useState(false);\n    console.log( `[ProductReviews] showForm=`,showForm );\n\n    function saveForm( e ){\n        e.preventDefault();\n\n        setShowForm(false);\n    } \n\n    return ( <>\n        <hr />\n        { showForm ? <ProductReviewForm saveForm={saveForm} /> : \n            <div class='d-flex justify-content-end'>\n                <button class=\"btn btn-lg btn-secondary\" onClick={function(){ setShowForm(true) }}>\n                    <i class=\"fas fa-grin-stars\"></i> Review</button>\n            </div> }\n        <ul class=\"list-group\">\n        { props.reviews ? props.reviews.map( review=><li class=\"list-group-item\">\n            <div class='row'>\n                <div class='col-8'><b>{review.name}</b></div>\n                <div class='col-4 pull-right'><RatingBar rating={review.rating} /></div>\n            </div>\n            {review.review}\n            </li>) : '<li>No reviews yet</li>' }\n        </ul>\n        </>)\n\n}\n\nexport default ProductReviews;","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport RatingBar from \"./RatingBar\";\nimport ProductReviews from \"./ProductReviews\";\nimport { useGlobalStore } from \"./GlobalStore\";\nimport API from \"./API\";\n\n\nfunction ProductInfoPage( props ){\n    const { id } = useParams();\n    const [ showProduct, setShowProduct ]= useState([]);\n    const [ globalData, dispatch ] = useGlobalStore();\n\n    // load only ONCE at component load\n    useEffect( function(){\n        loadProduct( id );\n    }, [] );\n\n    async function loadProduct( id ){  \n        const apiProduct = await API.get(`/api/product/${id}`);\n        setShowProduct( apiProduct );\n    }\n\n    function addToCart(){\n        dispatch({ \n            type: 'addToCart', id, num: 1, ...showProduct });\n    }\n\n    return (\n        <div class='container'>\n            <div class='row'>\n                <div class='col-4'>\n                    <img src={showProduct.image} class='img-thumbnail' />\n                </div>\n                <div class='col-8'>\n                    <h1>{showProduct.heading}</h1>\n                    <h2>{showProduct.price}</h2>\n\n                    <h3><RatingBar rating={showProduct.rating} /></h3>\n\n                    {/* <ProductAction /> */}\n                    <button onClick={addToCart} class=\"btn btn-lg btn-primary\"><i class=\"fas fa-cart-plus\"></i></button>\n                    \n                </div>\n                {showProduct.description}\n            </div>\n            <ProductReviews id={showProduct.id} reviews={showProduct.reviews} />                \n        </div>\n    )\n}\n\nexport default ProductInfoPage;","import React from \"react\";\n\nfunction SettingsPage( props ){\n    return (\n        <>[SettingsPage]</>\n    )\n}\n\nexport default SettingsPage;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction ProductAddPage( props ){\n    return (\n        <div>[Product Add]</div>\n    )\n}\n\nexport default ProductAddPage;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction ProductCartRow( props ){\n    const style = {\n        width: '64px', height: '64px'\n    }\n    \n    return (\n        <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n            <Link to={'/productinfo/'+props.id}>\n                <img class=\"img-thumbnail\" src={props.image} style={style} /> \n                {props.heading}\n            </Link>\n\n            <span class=\"badge badge-secondary badge-pill pull-right\">{props.num}</span>\n        </li>\n    )\n}\n\nexport default ProductCartRow;","import React, { useState, useEffect } from \"react\";\nimport ProductCartRow from \"./ProductCartRow\";\nimport { useGlobalStore } from \"./GlobalStore\";\n\nfunction CartPage( props ){\n    const [ products, setProducts ]= useState([]);\n    const [ globalData, dispatch ] = useGlobalStore();\n\n    return (\n        <ul key={props.heading} class=\"list-group\">\n        {globalData.cart.map( product=><ProductCartRow {...product} />)}\n        </ul>\n    )\n}\n\nexport default CartPage;","import React, { useState, useRef } from \"react\";\nimport { Redirect } from 'react-router-dom';\n\nfunction RegisterPage(){\n    // DECLARATIVE FORM OF PROGRAMMING\n    const [ userData, setUserData ] = useState({ name: \"\", email: \"\", password: \"\"});\n    const [ isRegistered, setIsRegistered ] = useState( false );\n    const [ alertMessage, setAlertMessage ] = useState( { type: \"\", message: \"\"} );\n\n    const inputEmail = useRef();\n    const inputPassword = useRef();\n\n    function handleInputChange( e ){\n        const { id, value } = e.target; //\n\n        setUserData( { ...userData, [id]: value } );\n    }\n\n    async function registerUser( e ){\n        e.preventDefault();\n        \n        if( userData.email === \"\" ) {\n            inputEmail.current.focus();\n            setAlertMessage( { type: 'danger', message: 'Please provide your Email!' } );\n            return;\n        }\n    \n        if( !(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(userData.email)) ) {\n            inputEmail.current.focus();\n            setAlertMessage( { type: 'danger', message: 'Please provide a valid Email!' } );\n            return;\n        }\n\n        if( userData.password === \"\" ) {\n            inputPassword.current.focus();\n            setAlertMessage( { type: 'danger', message: 'Please provide a password!' } );\n            return;\n        }\n\n        if( userData.password.length < 8 ) {\n            inputPassword.current.focus();\n            setAlertMessage( { type: 'danger', message: 'Please provide a longer password (8 characters min)!' } );\n            return;\n        }\n\n        const apiResult = await fetch('/api/user/register', \n            {   method: 'post',\n                headers: {\n                    'Accept': 'application/json, text/plain, */*',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(userData)\n          }).then( result=>result.json())\n                  \n        if( apiResult.message ){\n            setAlertMessage( { type: 'success', message: 'Thank you successfully registered!' } );\n            // remember the email\n            localStorage.email = apiResult.email;\n            setTimeout( function(){ setIsRegistered(true); }, 5000 );\n        } else {\n            setAlertMessage( { type: 'danger', message: apiResult.error } );\n        }\n    }\n\n    return (\n        <div>\n            { isRegistered ? <Redirect to='/login' /> : '' }\n\n            <div className={ alertMessage.type ? `alert alert-${alertMessage.type}` : 'd-hide' } role=\"alert\">\n                {alertMessage.message}\n            </div>\n            <section class=\"jumbotron text-center\">\n            <div class=\"container\">\n                <h1>User Registration</h1>\n                <p class=\"lead text-muted\">Register and go shopping!</p>\n            </div>\n            </section>\n        \n            <div class=\"container\">\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                    Register\n                    </div>\n                    <div class=\"card-body\">\n                    <form role=\"form\">\n                        <input type='hidden' id='db_id' value='' />\n                        <div class=\"form-group\">\n                            <label for=\"name\">First Name</label>\n                            <input value={userData.name} onChange={handleInputChange} id='name' type=\"text\" class=\"form-control\" />\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"email\">Email Address</label>\n                            <input \n                                value={userData.email} \n                                onChange={handleInputChange} \n                                ref={inputEmail}\n                                id=\"email\" type=\"email\" class=\"form-control\" />\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"userPassword\">Password</label>\n                            <input \n                                value={userData.password} \n                                onChange={handleInputChange} \n                                ref={inputPassword}\n                                id=\"password\" type=\"password\" class=\"form-control\" />\n                        </div>\n                        <button onClick={registerUser} class=\"btn btn-primary submit\" >Register</button>\n                    </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default RegisterPage;","import React, { useState, useRef } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport API from \"./API\";\n\nfunction LoginPage(){\n    // DECLARATIVE FORM OF PROGRAMMING\n    const [ userData, setUserData ] = useState({ name: \"\", email: localStorage.email, password: \"\", rememberMe: true });\n    const [ isLoggedIn, setIsLoggedIn ] = useState( false );\n    const [ alertMessage, setAlertMessage ] = useState( { type: \"\", message: \"\"} );\n\n    const inputEmail = useRef();\n    const inputPassword = useRef();\n\n    function handleInputChange( e ){\n        const { id, value } = e.target; //\n\n        setUserData( { ...userData, [id]: value } );\n    }\n\n    function handleCheckbox(){\n        setUserData( { ...userData, rememberMe: !userData.rememberMe } );\n    }\n\n    async function loginUser( e ){\n        e.preventDefault();\n        \n        if( userData.email === \"\" ) {\n            inputEmail.focus();\n            setAlertMessage( { type: 'danger', message: 'Please provide your Email!' } );\n            return;\n        }\n    \n        if( userData.password === \"\" || userData.password.length < 8 ) {\n            inputPassword.current.focus();\n            setAlertMessage( { type: 'danger', message: 'Please provide your password!' } );\n            return;\n        }\n\n        const apiResult = await API.post( '/api/user/login', userData );\n                  \n        if( !apiResult.session ){\n            setAlertMessage( { type: 'danger', message: apiResult.error } );\n            // clear any session\n            localStorage.session = '';\n            return;\n        };\n\n        setAlertMessage( { type: 'success', message: 'Loading, please wait...' } );\n\n        // remember the email (if checkbox toggled)\n        localStorage.email =( apiResult.rememberMe ? apiResult.email : '' );\n        // save the active session\n        localStorage.session = apiResult.session;\n\n        setTimeout( function(){ setIsLoggedIn(true); }, 3000 );\n    }\n\n    return (\n        <div>\n            { isLoggedIn ? <Redirect to='/productlist' /> : '' }\n\n            <div className={ alertMessage.type ? `alert alert-${alertMessage.type}` : 'd-hide' } role=\"alert\">\n                {alertMessage.message}\n            </div>\n            <section class=\"jumbotron text-center\">\n            <div class=\"container\">\n                <h1>Login</h1>\n                <p class=\"lead text-muted\">Register and go shopping!</p>\n            </div>\n            </section>\n        \n            <div class=\"container\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                    <form role=\"form\">\n                        <div class=\"form-group\">\n                            <label for=\"userEmail\">Email Address</label>\n                            <input \n                                value={userData.email} \n                                onChange={handleInputChange} \n                                ref={inputEmail}\n                                id=\"email\" type=\"email\" class=\"form-control\" />\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"userPassword\">Password</label>\n                            <input \n                                value={userData.password} \n                                onChange={handleInputChange} \n                                ref={inputPassword}\n                                id=\"password\" type=\"password\" class=\"form-control\" />\n                        </div>\n                        <button onClick={loginUser} type=\"button\" class=\"btn btn-primary submit\">Login</button>\n                        &nbsp; \n                        <input type=\"checkbox\"\n                        checked={userData.rememberMe} onChange={handleCheckbox} />                        \n                        <label class='text-secondary' for='rememberMe'>Remember Me</label> &nbsp;\n                        <a href=\"/register\">Need to Register?</a>\n                    </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default LoginPage;","import React, { useState, useRef, useEffect } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport API from \"./API\";\n\nfunction LogoutPage(){\n    const [ isLoggedOut, setIsLoggedOut ] = useState( false );\n    const [ alertMessage, setAlertMessage ] = useState( { type: \"\", message: \"\"} );\n\n    useEffect( function(){\n        // attempt to request logout (only once)\n        logoutRequest();\n        }, [] );\n\n    // call the api to logout (and clear session)\n    async function logoutRequest(){\n        console.log( `[logoutRequest] attempting to logout...` );\n        const apiResult = await API.post( '/api/user/logout', {} );\n                    \n        console.log( `apiResult: `, apiResult );\n\n        if( apiResult.error ){\n            setAlertMessage( { type: 'danger', message: apiResult.error } );\n            return;\n        };\n\n        setAlertMessage( { type: 'success', message: 'Logged out...' } );\n\n        // save the active session\n        localStorage.session = '';\n\n        setTimeout( function(){ setIsLoggedOut(true); }, 3000 );\n    }\n    \n\n    return (\n        <div>\n            { isLoggedOut ? <Redirect to='/login' /> : '' }\n\n            <div className={ alertMessage.type ? `alert alert-${alertMessage.type}` : 'd-hide' } role=\"alert\">\n                {alertMessage.message}\n            </div>\n            <section class=\"jumbotron text-center\">\n            <div class=\"container\">\n                <p class=\"lead text-muted\">Please wait, logging out...</p>\n            </div>\n            </section>\n        </div>\n    )\n}\n\nexport default LogoutPage;","import React from \"react\";\n\nfunction Footer( props ){\n    return (\n        <>\n            <div id=\"footer-padding\"></div>\n            <div id=\"footer\">(c) 2020 The Everest Team</div>\n        </>\n    )\n}\n\nexport default Footer;","import React from 'react';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport { GlobalStore } from \"./components/GlobalStore\";\n\nimport NavBar from './components/NavBar';\nimport ProductListPage from './components/ProductListPage';\nimport ProductInfoPage from './components/ProductInfoPage';\nimport SettingsPage from './components/SettingsPage';\nimport ProductAddPage from './components/ProductAddPage';\nimport CartPage from './components/CartPage';\nimport RegisterPage from './components/RegisterPage';\nimport LoginPage from './components/LoginPage';\nimport LogoutPage from './components/LogoutPage';\nimport Footer from './components/Footer';\n\n/* Our EVEREST App \n\n* added 'id' to product.json file (any different 3 ids)\n* added <Link> to the ProductCard\n\nToday's Mission:\n- Add Global Storage\n- Add Mongo\n\n*/\nfunction App() {\n  return (\n    <Router>\n      <GlobalStore> {/* provides common elements across components */}\n      <div className=\"App\">\n          <NavBar />\n          <div class=\"container\">\n            <Route exact path={[\"/\",\"/productlist\"]} component={ProductListPage} />\n            <Route path=\"/productinfo/:id\" component={ProductInfoPage} />\n            <Route exact path=\"/productadd\" component={ProductAddPage} />\n            <Route exact path=\"/cart\" component={CartPage} />\n            <Route exact path=\"/register\" component={RegisterPage} />\n            <Route exact path=\"/login\" component={LoginPage} />\n            <Route exact path=\"/logout\" component={LogoutPage} />\n            <Route exact path=\"/settings\" component={SettingsPage} />\n          </div>\n\n          <Footer />\n      </div>\n      </GlobalStore>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}